{% load django_vite %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      {{ app_name }} -{% block title %}
      {% endblock %}
    </title>
    <link rel="icon" href="{% static 'img/alma_logo.png' %}" type="image/x-icon">

    <link rel="preload" href="{% vite_asset_url 'styles/app.css' %}" as="style">
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light+Two&display=swap" rel="stylesheet">

    {% vite_hmr_client %}
    {% vite_asset 'js/main.js' %}
    <link rel="stylesheet" href="{% vite_asset_url 'styles/app.css' %}">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="csrf-token" content="{{ csrf_token }}">
    {% block head %}
    
    {% endblock %}
    {% block script %}

    {% endblock %}
  
  </head>
  <body class="body-pos">
    <header class="header">
        <div class="header__container">
            <div class="header__nav-container">
                <div>
                    {% if user.is_authenticated %}
                        <p class="header__username">Hello {{ user.username }}</p>
                    {% endif %}
                </div>

                <nav class="header__nav">

                    {% if user.is_authenticated %}
                        <a href="{% url 'logout' %}" class="header__nav-link header__nav-link--logout">Log Out</a>
                    {% else %}
                        <a href="{% url 'login' %}" class="header__nav-link {% if request.resolver_match.url_name == 'login' %}header__nav-link--active{% endif %}">Log In</a>
                        <!-- <a href="#" class="header__nav-link {% if request.resolver_match.url_name == 'register' %}header__nav-link--active{% endif %}">Register</a> -->
                    {% endif %}
                </nav>
            </div>
            <div class="header__icon-container">
                <a class="header__icon" href="{% url 'chat' %}">
                    <p>Alma<span class="logo-font">AI</span></p>
                </a>
                <!-- <img src="{% static 'img/nav.svg' %}" alt="Mobile Icon" width="30" class="header__nav-mobile-icon" id="nav-mobile-btn"> -->
            </div>
        
        </div>
    </header>


    <main>
      {% block body %}

      {% endblock %}
    </main>

    <footer>
        <p>&copy; {{ current_year }} - <a href="http://dellpinos.com" class="link-name">DellPinos</a> | All rights reserved.</p>
    </footer>
  </body>
</html>
